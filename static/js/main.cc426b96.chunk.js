(this["webpackJsonpweather-comparison"]=this["webpackJsonpweather-comparison"]||[]).push([[0],{10:function(e,t,s){},12:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),r=s(5),a=s.n(r),o=(s(10),s(3),s(0));var i=function(){return Object(o.jsxs)("div",{className:"nav",children:[Object(o.jsx)("h1",{children:"Glasgow Weather Comparison"}),Object(o.jsxs)("h4",{children:["See how much better the weather is",Object(o.jsx)("br",{})," where you are!"]})]})},j=s(2);var h=function(e){return 1.8*e+32},l=function(e){return Object(o.jsxs)("div",{children:[e.loading&&Object(o.jsx)("div",{className:"Loader"}),200===e.responseObj.cod?Object(o.jsxs)("div",{className:"gla-response",children:[Object(o.jsx)("p",{className:"gla-title",children:Object(o.jsx)("strong",{children:e.responseObj.name})}),Object(o.jsx)("img",{className:"weather-icons",alt:"weather icon",src:"http://openweathermap.org/img/w/".concat(e.responseObj.weather[0].icon,".png")}),Object(o.jsxs)("p",{className:"gla-desc",children:["It is currently ",Math.round(e.responseObj.main.temp),"C / ",h(Math.round(e.responseObj.main.temp)),"F out with ",e.responseObj.weather[0].description,". "]})]}):null]})},b=function(e){var t=Object(c.useState)({}),s=Object(j.a)(t,2),n=s[0],r=s[1];return Object(o.jsxs)("div",{className:"gla-forecast",children:[Object(o.jsx)("h2",{children:"1. Check the weather in Glasgow"}),Object(o.jsx)("button",{onClick:function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=Glasgow&units=metric&appid=".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/weather-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY)).then((function(e){return e.json()})).then((function(e){r(e)}))},children:"Reveal"}),Object(o.jsx)(l,{responseObj:n}),Object(o.jsx)("hr",{})]})},O=s.p+"static/media/Gsq.544681a1.png";var d=function(){return Object(o.jsxs)("div",{className:"footer",children:[Object(o.jsxs)("div",{className:"joke-part",children:[Object(o.jsxs)("p",{className:"joke",children:["On the odd chance your weather is worse than mine, ",Object(o.jsx)("br",{})," assume I'll be sunbathing no matter the temperature! \ud83d\ude0e"]}),Object(o.jsx)("img",{src:O,className:"foot-img"})]}),Object(o.jsxs)("p",{className:"creds",children:["Created by Andy McInnes, in Glasgow \ud83c\udf27\ufe0f 2021",Object(o.jsx)("br",{}),"View ",Object(o.jsx)("a",{href:"https://andymc7993.github.io/",className:"pf-link",children:"my portfolio here"})]})]})},p=function(e){return Object(o.jsxs)("div",{children:[e.error&&Object(o.jsx)("small",{id:"Small",children:"Please enter a valid location."}),e.loading&&Object(o.jsx)("div",{className:"Loader"}),200===e.responseObj.cod?Object(o.jsxs)("div",{className:"loc-response",children:[Object(o.jsx)("p",{className:"loc-title",children:Object(o.jsx)("strong",{children:e.responseObj.name})}),Object(o.jsx)("img",{className:"weather-icons",alt:"weather icon",src:"http://openweathermap.org/img/w/".concat(e.responseObj.weather[0].icon,".png")}),Object(o.jsxs)("p",{className:"loc-desc",children:["It is currently ",Math.round(e.responseObj.main.temp),"C / ",h(Math.round(e.responseObj.main.temp)),"F out with ",e.responseObj.weather[0].description,"."]})]}):null]})},u=function(){var e=Object(c.useState)({}),t=Object(j.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)(""),a=Object(j.a)(r,2),i=a[0],h=a[1],l=Object(c.useState)(!1),b=Object(j.a)(l,2),O=b[0],d=b[1],u=Object(c.useState)(!1),m=Object(j.a)(u,2),x=m[0],w=m[1],g=encodeURIComponent(i);return Object(o.jsxs)("div",{className:"loc-forecast",children:[Object(o.jsx)("h2",{children:"2. Check the weather where you are"}),Object(o.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===i.length)return d(!0);fetch("https://api.openweathermap.org/data/2.5/weather?units=metric&q=".concat(g,"&appid=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/weather-comparison",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY)).then((function(e){return e.json()})).then((function(e){if(200!==e.cod)throw new Error;n(e),w(!1)})).catch((function(e){d(!0),w(!1),console.log(e.message)}))},children:[Object(o.jsx)("input",{className:"text-input",type:"text",placeholder:"Enter town / city",maxLength:"50",value:i,onChange:function(e){return h(e.target.value)}}),Object(o.jsx)("button",{type:"submit",children:"Reveal"})]}),Object(o.jsx)(p,{responseObj:s,error:O,loading:x}),Object(o.jsx)("hr",{})]})};var m=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(i,{}),Object(o.jsxs)("div",{className:"forecasts",children:[Object(o.jsx)(b,{}),Object(o.jsx)(u,{})]}),Object(o.jsx)(d,{})]})};a.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(m,{})}),document.getElementById("root"))},3:function(e,t,s){}},[[12,1,2]]]);
//# sourceMappingURL=main.cc426b96.chunk.js.map